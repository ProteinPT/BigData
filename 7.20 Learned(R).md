# 탐색적 데이터 분석(R)

### <데이터분석 유형>

> - 기술통계 
>
> - 탐색적분석 
>
> - 추론적통계분석 
>
> - Predictive analysis

***as.factor(): 국가나 남녀 성처럼 반복되는 범주형 데이터를 변수에 저장할 때 쓰는 함수***



#### ? 탐색적분석: 가설 검정 등에 치우친 기존 통계학을 보완한 방법론

#####  	- 기초 통계량을 활용하거나 그래프를 통한 시각화를 활용

#####      - 방대한 양의 데이터를 도표나 그래프로 시각화하여 즉각적인 상황판단에 유리하고, 데이터 기억하기 쉬우며, 흥미를 유발 시킨다.



### - 데이터 대표값 탐색

> 1. 평균값과 중앙값
> 2. 절사평균
> 3. 가중평균



#### 평균값과 중앙값

- 데이터 요약을 통해서 데이터의 특징, 데이터 간 차이를 파악할 수 있으며, 대부분의 값이 어디쯤 위치하는 지 추정

- ##### 평균값= mean()

- ##### 중앙값= median()

  결측값(NA)이 있는 경우 na.rm= T 인자를 사용한다.

  ##### median(A_salary, na.rm=T)

#### 

#### 절사평균

- 데이터 요약을 통해서 데이터의 특징, 데이터 간 차이를 파악할 수 있으며, 대부분의 값이 어디쯤 위치하는 지 추정

  - 이상 값에 민감한 평균 특징을 보완한 것

- ##### mean() 함수에  trim 매개변수

  ```R
  mean(A_salary, trim=0.1)
  #양끝 10%씩 값을 제외하고 평균을 구함
  ```

  

#### 가중평균

- 여러 모집단의 샘플이 똑같이 수집되지 않는 경우가 많음
- 이를 보완하기 위해 데이터가 부족한 그룹에 더 높은 가중치를 적용



### - 데이터 분산도 탐색

> 1. 최소값, 최대값으로 범위 탐색
> 2. 분산과 표준편차



#### 분산도

- 관측된 데이터가 흩어져 있는 정도

#### 범위

- 관측된 값들 중에서의 최대값과 최소값의차이로 분산도를 측정하는 간단한 방법

- 극단적인 수치들 사이에서 분포양상은 설명하지 못함

  ```R
  range(A_salary)
  A_salary의 최소값 최대값
  ```

#### 분산과 표준편차

분산= var()

표준편차= sd()

##### 높을수록 데이터가 많이 퍼져있다는 것임 = 편차가 심하다



### 데이터 분포탐색

#### - 백분위수와 사분위수

##### 백분위수: 데이터를 정렬한 후, 특정퍼센트 지점의 수

​	상위 10%% 해당되는 지점의 두 회사의 연봉이 궁금하다면 90% 지점의 백분위수를 구한다

```R
quantile(A_Salary, 0.9)
```

##### 사분위수:  백분위수 중, 0% 25% 50% 75% 100% 지점의 수



#### - 상자그림

#####  boxplot(): 전체 관측값 범위와 사분위수, 그리고 이상값까지 시각적으로 확인해볼 수 있는 그래프

 	boxplot(A_salary,B_salary, names=c("A회사 연봉","B회사연봉"))



#### - 히스토그램

> 구간별 값의 분포 시각화, 데이터가 연속형 수치데이터인 경우 데이터의 분포를 시각화하기에 좋은 그래프

#####    hist(): breaks 매개인자의 숫자만큼 구간을 나누어  x축에 배치하고, 그 구간의 데이터 개수를 y축의 막대길이로 표현

```R
hist(A_salary, xlab="A사 연봉", ylab="인원수", breaks=5)
```



##### 막대 그래프 vs. 히스토그램

막대그래프: `이산형` 수치 데이터나 범주형 데이터의 경우 사용, 막대와 막대 사이를 떨어뜨려 반환

히스토그램: `연속형` 수치 데이터의 경우 사용, 막대와 막대사이 붙여서 그림.



#### - 도수분포표

> 수집된 변수의 데이터를 범주 또는 동일한 크기의 구간으로 분류하고 각 구간마다 몇 개의 데이터가 존재하는 지를 정리한 표

#####  cut(): breaks 매개인자의 숫자만큼 구간을 나누어 도수분포표 생성

```R
cut_value <-cut(A_salary, breaks=5)
freq <- table(cut_value)
freq
> (24.9, 40]
      9
   # [] 대괄호= ~보다 작거나 같은
   # () 소괄호= ~보다 큰
   #24.9보다 크고 40보다 같거나 작은 구간에 9명이 있다.
```

##### 상대적 빈도표

- 한 범주에 속하는 빈도가 전체 관찰 수에 비하여 어느 정도 비중을 차지하고 있는가를 알아보는 상대적인 빈도가 유용한 경우

- ##### prop.table()



#### - 막대그래프

> 범주형 데이터나 이산형 수치 데이터의 도수분포표를 시각화

##### barplot()

```R
barplot(freqA,names=c("남","녀"), col=c("skyblue","pink"), ylim=c(0,10))
title(main="A사")
```



#### - 파이그래프

> 분포의 시각화를 위해 사용, 범주가 몇개 되지 않고, 차이가 확연한 경우

##### pie()

```R
pie(freqA, col=c("skyblue","red"), main="A사")
```



## 변수 간 관계탐색

#### - 산점도 그래프

> 변수와 변수 간의 관계 시각화에 유용한 그래프

```R
A <-data.frame(salary <-A_salary,
              hireyears <-A_hireyears)
plot(A$salary, A$hireyears, xlab="연봉", ylab="근속연수")
```

#### - 상관 행렬

> 여러 변수 간 상관계수 값으로 생성한 행렬

cor(iris[,1:4])



#### - 히트맵

> 많은 변수로 상관행렬을 만들면 상관계수 값을 일일이 확인하기 어려운 경우

 heatmap(cor(iris[,1:4]))